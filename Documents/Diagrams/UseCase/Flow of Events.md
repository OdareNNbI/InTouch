# Поток событий
---

![UseCase](https://raw.githubusercontent.com/y-harkavik/InTouch/master/Documents/Diagrams/UseCase/UseCase.png)

# Содержание
1 [Актёры](#1) <br>
2 [Варианты использования](#2) <br>
2.1 [Авторизироваться в приложении](#2.1) <br>
2.2 [Открыть меню приложения](#2.2) <br>
2.3 [Выбрать раздел](#2.3) <br>
2.4 [Просмотреть диалоги](#2.4) <br>
2.5 [Отобразить список друзей](#2.5) <br>
2.6 [Просмотреть профиль пользователя ВКонтакте](#2.6) <br>
2.7 [Просмотреть сообщения конкретного диалога](#2.7) <br>
2.8 [Удалить друга](#2.8) <br>
2.9 [Добавить друга в чёрный список](#2.9) <br>
2.10 [Отправить сообщение](#2.10) <br>
<a name="1"/>

# 1 Актёры

| Актёр | Описание |
|:--|:--|
| Пользователь ВКонтакте | Человек, имеющий аккаунт в социальной сети ВКонтакте |

<a name="2"/>

# 2 Варианты использования

<a name="2.1"/>

## 2.1 Авторизироваться в приложении

**Описание.** Вариант использования "Авторизироваться в приложении" позволяет пользователю войти в свой аккаунт во ВКонтакте.  

**Основной поток.**
1. Вариант использования начинается, когда пользователь запускает приложение. Если пользователь уже авторизован, переход к пункту 7 основного потока;
2. Приложение выводит экран, на котором расположена кнопка "Login";
3. Пользователь нажимает кнопку "Login";
4. Приложение выводит WebView авторизации и предлагает пользователю ввести логин и пароль;
5. Пользователь вводит логин и пароль;
6. Приложение проверяет правильность введенных данных. Если данные введены неправильно, выполняется альтернативный поток А1;
7. Приложение выводит список диалогов ;
8. Вариант использования завершается;

**Альтернативный поток А1.**
1. Приложение выводит сообщение об ошибке;
2. Возврат к п.4 основного потока;

<a name="2.2"/>

## 2.2 Открыть меню приложения

**Описание.** Вариант использования "Открыть меню приложения" позволяет пользователю переходить между разделами приложения.  

**Основной поток.**
1. Пользователь делает свайп вправо по экрану;
2. Приложение отображает боковое меню с разделами;
3. Вариант использования завершается;

<a name="2.3"/>

## 2.3 Выбрать раздел

**Описание.** Вариант использования "Выбрать раздел" позволяет пользователю открыть выбранный раздел.  
**Предусловие.** Пользователь открыл меню приложения.

**Основной поток.**
1. Пользователь выбирает необходимый раздел;
2. Приложение отображает выбранный раздел;
3. Вариант использования завершается;

**Постусловие.** Пользователю отображается список друзей или список диалогов, в зависимости от выбранного раздела.

<a name="2.4"/>

## 2.4 Просмотреть диалоги

**Описание.** Вариант использования "Просмотреть диалоги" позволяет просмотреть диалоги пользователя во ВКонтакте.  
**Предусловие.** Пользователь выбрал раздел "Диалоги" в меню или если пользователь авторизован в приложении и выполняет его открытие.

**Основной поток.**
1. Приложение отображает 20 диалогов пользователя. Если пользователь свайпает вверх, выполняется альтернативный поток А2;
3. Вариант использования завершается;

**Альтернативный поток А2.**
1. Приложение подгружает следующие 20 диалогов;
2. Возврат к п.1 основного потока;

<a name="2.5"/>

## 2.5 Отобразить список друзей

**Описание.** Вариант использования "Отобразить список друзей" позволяет просмотреть друзей пользователя во ВКонтакте.  
**Предусловие.** Пользователь выбрал раздел "Друзья" в меню.

**Основной поток.**
1. Приложение отображает 20 друзей пользователя. Если пользователь свайпает вверх, выполняется альтернативный поток А3;
3. Вариант использования завершается;

**Альтернативный поток А3.**
1. Приложение подгружает следующие 20 друзей;
2. Возврат к п.1 основного потока;


<a name="2.6"/>

## 2.6 Просмотреть профиль пользователя ВКонтакте

**Описание.** Вариант использования "Просмотреть профиль пользователя ВКонтакте" позволяет просмотреть информацию о пользователе.

**Предусловия.** Пользователь, находясь в разделе "Друзья", выбрал конкретного пользователя из списка.

**Основной поток.**
1. Приложение выводит информацию о профиле пользователя;
2. Вариант использования завершается;

<a name="2.7"/>

## 2.7 Просмотреть сообщения конкретного диалога

**Описание.** Вариант использования "Просмотреть сообщения конкретного диалога" позволяет пользователю просмотреть переписку, а также вести её.

**Предусловие.** Пользователь, находясь в профиле друга, нажал кнопку "Отправить сообщение", или, находясь в разделе "Диалоги", выбрал диалог из списка.

**Основной поток.**
1. Приложение отображает 20 сообщений. Если пользователь свайпает вниз, выполяется альтернативный поток А4; 
2. Вариант использования завершается.

**Альтернативный поток А4.**
1. Приложение подгружает следующие 20 сообщений;
2. Возврат к п.1 основного потока;

<a name="2.8"/>

## 2.8 Удалить друга

**Описание.** Вариант использования "Удалить друга" позволяет удалить друга из друзей во ВКонтакте.

**Предусловие.** Пользователь долгим нажатием на друга из списка друзей вызвал контекстное меню.

**Основной поток.**
1. Пользователь нажимает на пункт меню "Удалить друга";
2. Приложение удаляет друга из списка друзей;
3. Приложение обновляет список друзей
4. Вариант использования завершается;

<a name="2.9"/>

## 2.9 Добавить друга в чёрный список

**Описание.** Вариант использования "Добавить друга в чёрный список" позволяет добавить друга в чёрный список во ВКонтакте.

**Предусловие.** Пользователь долгим нажатием на друга из списка друзей вызвал контекстное меню.

**Основной поток.**
1. Пользователь нажимает на пункт меню "Добавить в чёрный список";
2. Приложение добавляет друга в чёрный список;
3. Приложение обновляет список друзей
4. Вариант использования завершается;

<a name="2.10"/>

## 2.10 Отправить сообщение

**Описание.** Вариант использования "Отправить сообщение" позволяет отправить сообщение в диалог, в котором находится пользователь.

**Предусловие.** Пользователь должен ввести сообщение в поле ввода.

**Основной поток.**
1. Пользователь нажимает на кнопку "Отправить";
2. Приложение отправляет запрос с текстом сообщения на сервер ВКонтакте;
3. Вариант использования завершается;